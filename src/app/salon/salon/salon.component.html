<div class="salon-header">
  
  <h1 class="titulo-salon">Sal칩n</h1>

  
  <div class="acciones-globales">
     
    <button class="btn-cerrar-sesion" (click)="cerrarSesion()">
         Cerrar sesi칩n  
    </button>
    
  </div>
</div>

<div class="salon-container">
    
  <div
    *ngFor="let mesa of mesas"
    class="mesa"
    [ngClass]="mesa.estado.toLowerCase()"
    (click)="manejarClickMesa(mesa)"
    [style.left.px]="mesa.x"
    [style.top.px]="mesa.y"
  >
    <!-- Contenedor para la ilustraci칩n de la mesa (SVG simulado por CSS) -->
    <div class="mesa-ilustracion">
      <!-- 游 Solo el n칰mero de mesa 游 -->
      <div class="numero">{{ mesa.numero }}</div>
    </div>
    
  </div>
</div>

<div *ngIf="errorCarga" class="error-msg"> {{ errorCarga }}</div>

<!-- ----------------------------------------------------
 * 游 MODAL CON PAD NUM칄RICO PARA ABRIR MESA 游
 * ---------------------------------------------------- -->
<div class="modal-backdrop" *ngIf="mesaSeleccionadaParaAbrir">
  <div class="modal-content">
    <h2>Abrir Mesa {{ mesaSeleccionadaParaAbrir.numero }}</h2>
    <p class="capacity-info">
      Capacidad m치xima: **{{ mesaSeleccionadaParaAbrir.capacidad }}** personas.
    </p>

    <div class="comensales-pad">
      <p>Selecciona comensales:</p>
      <div class="pad-buttons-grid">
        <!-- Genera botones din치micamente del 1 a la capacidad m치xima -->
        <button
          *ngFor="
            let i of [].constructor(mesaSeleccionadaParaAbrir.capacidad);
            let idx = index
          "
          (click)="comensalesInput = idx + 1"
          [class.selected]="comensalesInput === idx + 1"
          class="pad-button"
        >
          {{ idx + 1 }}
        </button>
      </div>
    </div>

    <div class="modal-actions">
      <button class="btn-cancel" (click)="cancelarApertura()">Cancelar</button>
      <button
        class="btn-confirm"
        (click)="abrirMesa()"
        [disabled]="comensalesInput <= 0"
      >
        Abrir Mesa con {{ comensalesInput }} Comensales
      </button>
    </div>
  </div>
</div>
